{"ast":null,"code":"var _jsxFileName = \"/Users/kanekonaoki/Documents/GitHub/NostalgicDmmApp/src/components/AdmaxAd.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\n\n// 広告タイプの型定義\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// AdMax広告コンポーネント\nconst AdMax = ({\n  admaxId\n}) => {\n  _s();\n  useEffect(() => {\n    // 広告リストを初期化または取得\n    if (!window.admaxads) window.admaxads = [];\n    const admaxads = window.admaxads;\n\n    // 広告リストに存在しない場合、追加\n    if (!admaxads.some(ad => ad.admax_id === admaxId)) {\n      admaxads.push({\n        admax_id: admaxId,\n        type: 'switch'\n      });\n    }\n\n    // 外部スクリプトを読み込んで広告を表示\n    const script = document.createElement('script');\n    script.src = 'https://adm.shinobi.jp/st/t.js';\n    script.async = true;\n    document.body.appendChild(script);\n\n    // クリーンアップ関数：コンポーネントのアンマウント時に実行\n    return () => {\n      // スクリプトタグを削除\n      document.body.removeChild(script);\n\n      // 広告リストから該当の広告を削除\n      const index = admaxads.findIndex(ad => ad.admax_id === admaxId);\n      if (index !== -1) admaxads.splice(index, 1);\n\n      // グローバル変数をクリア\n      window.__admax_tag__ = undefined;\n    };\n  }, [admaxId]);\n\n  // 広告表示用のdivを返す\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admax-switch\",\n    \"data-admax-id\": admaxId,\n    style: {\n      display: 'inline-block'\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n_s(AdMax, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = AdMax;\nexport default AdMax;\nvar _c;\n$RefreshReg$(_c, \"AdMax\");","map":{"version":3,"names":["React","useEffect","jsxDEV","_jsxDEV","AdMax","admaxId","_s","window","admaxads","some","ad","admax_id","push","type","script","document","createElement","src","async","body","appendChild","removeChild","index","findIndex","splice","__admax_tag__","undefined","className","style","display","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/kanekonaoki/Documents/GitHub/NostalgicDmmApp/src/components/AdmaxAd.js"],"sourcesContent":["import React, { useEffect } from 'react';\n\n// 広告タイプの型定義\ntype AdmaxAdType = {\n  admax_id: string; // 広告ID\n  type: string; // 広告の種類（PC/SP切替広告なら\"switch\"）\n};\n\n// AdMax広告コンポーネント\nconst AdMax = ({ admaxId }: { admaxId: string }) => {\n  useEffect(() => {\n    // 広告リストを初期化または取得\n    if (!window.admaxads) window.admaxads = [];\n    const admaxads: AdmaxAdType[] = window.admaxads;\n\n    // 広告リストに存在しない場合、追加\n    if (!admaxads.some(ad => ad.admax_id === admaxId)) {\n      admaxads.push({\n        admax_id: admaxId,\n        type: 'switch',\n      });\n    }\n\n    // 外部スクリプトを読み込んで広告を表示\n    const script = document.createElement('script');\n    script.src = 'https://adm.shinobi.jp/st/t.js';\n    script.async = true;\n    document.body.appendChild(script);\n\n    // クリーンアップ関数：コンポーネントのアンマウント時に実行\n    return () => {\n      // スクリプトタグを削除\n      document.body.removeChild(script);\n\n      // 広告リストから該当の広告を削除\n      const index = admaxads.findIndex(ad => ad.admax_id === admaxId);\n      if (index !== -1) admaxads.splice(index, 1);\n\n      // グローバル変数をクリア\n      window.__admax_tag__ = undefined;\n    };\n  }, [admaxId]);\n\n  // 広告表示用のdivを返す\n  return (\n    <div\n      className=\"admax-switch\"\n      data-admax-id={admaxId}\n      style={{ display: 'inline-block' }}\n    />\n  );\n};\n\nexport default AdMax;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;;AAExC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAMA;AACA,MAAMC,KAAK,GAAGA,CAAC;EAAEC;AAA6B,CAAC,KAAK;EAAAC,EAAA;EAClDL,SAAS,CAAC,MAAM;IACd;IACA,IAAI,CAACM,MAAM,CAACC,QAAQ,EAAED,MAAM,CAACC,QAAQ,GAAG,EAAE;IAC1C,MAAMA,QAAuB,GAAGD,MAAM,CAACC,QAAQ;;IAE/C;IACA,IAAI,CAACA,QAAQ,CAACC,IAAI,CAACC,EAAE,IAAIA,EAAE,CAACC,QAAQ,KAAKN,OAAO,CAAC,EAAE;MACjDG,QAAQ,CAACI,IAAI,CAAC;QACZD,QAAQ,EAAEN,OAAO;QACjBQ,IAAI,EAAE;MACR,CAAC,CAAC;IACJ;;IAEA;IACA,MAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;IAC/CF,MAAM,CAACG,GAAG,GAAG,gCAAgC;IAC7CH,MAAM,CAACI,KAAK,GAAG,IAAI;IACnBH,QAAQ,CAACI,IAAI,CAACC,WAAW,CAACN,MAAM,CAAC;;IAEjC;IACA,OAAO,MAAM;MACX;MACAC,QAAQ,CAACI,IAAI,CAACE,WAAW,CAACP,MAAM,CAAC;;MAEjC;MACA,MAAMQ,KAAK,GAAGd,QAAQ,CAACe,SAAS,CAACb,EAAE,IAAIA,EAAE,CAACC,QAAQ,KAAKN,OAAO,CAAC;MAC/D,IAAIiB,KAAK,KAAK,CAAC,CAAC,EAAEd,QAAQ,CAACgB,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;;MAE3C;MACAf,MAAM,CAACkB,aAAa,GAAGC,SAAS;IAClC,CAAC;EACH,CAAC,EAAE,CAACrB,OAAO,CAAC,CAAC;;EAEb;EACA,oBACEF,OAAA;IACEwB,SAAS,EAAC,cAAc;IACxB,iBAAetB,OAAQ;IACvBuB,KAAK,EAAE;MAAEC,OAAO,EAAE;IAAe;EAAE;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACpC,CAAC;AAEN,CAAC;AAAC3B,EAAA,CA1CIF,KAAK;AAAA8B,EAAA,GAAL9B,KAAK;AA4CX,eAAeA,KAAK;AAAC,IAAA8B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}